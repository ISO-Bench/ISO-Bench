{
  "instance": {
    "commit_hash": "6e2da5156176ed2d7fe2445b7c7316bc1650b20a",
    "commit_subject": "Replace time.time() to time.perf_counter() for benchmarking. (#6178)",
    "repo": "sglang",
    "pr_url": "https://github.com/sgl-project/sglang/pull/6178",
    "files_changed": [
      "benchmark/bench_in_batch_prefix/bench_in_batch_prefix.py",
      "benchmark/benchmark_batch/benchmark_batch.py",
      "benchmark/benchmark_batch/benchmark_tokenizer.py",
      "benchmark/generative_agents/bench_other.py",
      "benchmark/generative_agents/bench_sglang.py",
      "benchmark/gsm8k/bench_other.py",
      "benchmark/gsm8k/bench_sglang.py",
      "benchmark/hellaswag/bench_other.py",
      "benchmark/hellaswag/bench_sglang.py",
      "benchmark/hicache/bench_multiturn.py",
      "benchmark/json_decode_regex/bench_other.py",
      "benchmark/json_decode_regex/bench_sglang.py",
      "benchmark/json_jump_forward/bench_other.py",
      "benchmark/json_jump_forward/bench_sglang.py",
      "benchmark/json_schema/bench_sglang.py",
      "benchmark/kernels/fused_moe_triton/tuning_fused_moe_triton.py",
      "benchmark/kernels/quantization/tuning_block_wise_kernel.py",
      "benchmark/line_retrieval/bench_sglang.py",
      "benchmark/llava_bench/bench_sglang.py",
      "benchmark/llm_judge/bench_other.py",
      "benchmark/llm_judge/bench_sglang.py",
      "benchmark/long_json_decode/bench_other.py",
      "benchmark/long_json_decode/bench_sglang.py",
      "benchmark/mmlu/bench_other.py",
      "benchmark/mmlu/bench_sglang.py",
      "benchmark/mmmu/bench_sglang.py",
      "benchmark/mtbench/bench_other.py",
      "benchmark/mtbench/bench_sglang.py",
      "benchmark/mtbench/bench_sglang_eagle.py",
      "benchmark/multi_chain_reasoning/bench_other.py",
      "benchmark/multi_chain_reasoning/bench_sglang.py",
      "benchmark/multi_document_qa/bench_other.py",
      "benchmark/multi_document_qa/bench_sglang.py",
      "benchmark/multi_turn_chat/bench_other.py",
      "benchmark/multi_turn_chat/bench_sglang.py",
      "benchmark/multi_turn_chat/long_prompt_multi_turn.py",
      "benchmark/react/bench_other.py",
      "benchmark/react/bench_sglang.py",
      "benchmark/reasoning_benchmark/bench_sglang.py",
      "benchmark/tip_suggestion/bench_other.py",
      "benchmark/tip_suggestion/bench_sglang.py",
      "benchmark/tree_of_thought_deep/bench_other.py",
      "benchmark/tree_of_thought_deep/bench_sglang.py",
      "benchmark/tree_of_thought_v0/bench_other.py",
      "benchmark/tree_of_thought_v0/bench_sglang.py",
      "python/sglang/test/few_shot_gsm8k.py",
      "python/sglang/test/few_shot_gsm8k_engine.py",
      "python/sglang/test/run_eval.py",
      "python/sglang/test/test_programs.py",
      "python/sglang/test/test_utils.py",
      "sgl-router/py_test/test_launch_server.py",
      "test/srt/experiment_runner.py",
      "test/srt/models/test_encoder_embedding_models.py",
      "test/srt/test_gptqmodel_dynamic.py",
      "test/srt/test_release_memory_occupation.py",
      "test/srt/test_torch_compile.py",
      "test/srt/test_torch_compile_moe.py",
      "test/srt/test_torchao.py",
      "test/srt/test_update_weights_from_distributed.py",
      "test/srt/test_update_weights_from_tensor.py",
      "test/srt/test_w8a8_quantization.py"
    ]
  },
  "result": {
    "status": "success",
    "commit_hash": "6e2da5156176ed2d7fe2445b7c7316bc1650b20a",
    "baseline_ms": 2138.4335775997897,
    "patched_ms": 2128.570360899903,
    "speedup": 1.0046337282906246,
    "improvement": true,
    "baseline_output": {
      "impl_tag": "child",
      "commit_hash": "6e2da5156176ed2d7fe2445b7c7316bc1650b20a",
      "device": "cpu",
      "dtype": "float64",
      "iters": 10,
      "warmup": 3,
      "avg_ms": 2138.4335775997897,
      "p50_ms": 2145.440320000489,
      "p95_ms": 2148.919143997773,
      "eq_level": "behavioral",
      "opt_path_hit": true
    },
    "patched_output": {
      "impl_tag": "child",
      "commit_hash": "6e2da5156176ed2d7fe2445b7c7316bc1650b20a",
      "device": "cpu",
      "dtype": "float64",
      "iters": 10,
      "warmup": 3,
      "avg_ms": 2128.570360899903,
      "p50_ms": 2133.3106430029147,
      "p95_ms": 2142.970806999074,
      "eq_level": "behavioral",
      "opt_path_hit": true
    },
    "error_message": null,
    "stdout": "{\"impl_tag\": \"child\", \"commit_hash\": \"6e2da5156176ed2d7fe2445b7c7316bc1650b20a\", \"device\": \"cpu\", \"dtype\": \"float64\", \"iters\": 10, \"warmup\": 3, \"avg_ms\": 2138.4335775997897, \"p50_ms\": 2145.440320000489, \"p95_ms\": 2148.919143997773, \"eq_level\": \"behavioral\", \"opt_path_hit\": true}\n\n{\"impl_tag\": \"child\", \"commit_hash\": \"6e2da5156176ed2d7fe2445b7c7316bc1650b20a\", \"device\": \"cpu\", \"dtype\": \"float64\", \"iters\": 10, \"warmup\": 3, \"avg_ms\": 2128.570360899903, \"p50_ms\": 2133.3106430029147, \"p95_ms\": 2142.970806999074, \"eq_level\": \"behavioral\", \"opt_path_hit\": true}\n",
    "stderr": "\n",
    "duration_s": 55.8297073841095,
    "patch_path": "/root/OmniPerf-Bench/perf-agents-bench/state/runs/sglang/claude_code/default/2025-12-23_06-28-44/sglang_030_6e2da515/model_patch.diff",
    "patch_stats": {
      "lines_added": 29,
      "files_changed": 3
    }
  }
}