{
  "timestamp": "20251231_133756",
  "total_commits": 41,
  "completed": 14,
  "success_count": 2,
  "error_count": 12,
  "results": [
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {
        "ttft_mean": 1222271.32,
        "ttft_median": 1247275.59,
        "ttft_p99": 1247677.08,
        "tpot_mean": 38.72,
        "itl_mean": 38.69
      },
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Human benchmark produced no metrics",
      "duration_s": 3280.5310616493225,
      "perf_command": "python benchmarks/benchmark_serving.py --model meta-llama/Meta-Llama-3-8B-Instruct --dataset ShareGPT_V3_unfiltered_cleaned_split.json",
      "install_method": "docker_fallback",
      "baseline_raw": "Namespace(backend='vllm', base_url=None, host='127.0.0.1', port=29001, endpoint='/v1/completions', dataset=None, dataset_name='random', dataset_path=None, model='meta-llama/Meta-Llama-3-8B-Instruct', tokenizer=None, best_of=1, use_beam_search=False, num_prompts=100, sharegpt_output_len=None, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, random_input_len=512, random_output_len=128, random_range_ratio=1.0, request_rate=inf, seed=0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=False, metadata=None, result_dir=None, result_filename=None, percentile_metrics='ttft,tpot,itl', metric_percentiles='99')\nStarting initial single prompt test run...\nInitial test run completed. Starting main benchmark run...\nTraffic request rate: inf\n============ Serving Benchmark Result ============\nSuccessful requests:                     100       \nBenchmark duration (s):                  1252.16   \nTotal input tokens:                      51200     \nTotal generated tokens:                  12538     \nRequest throughput (req/s):              0.08      \nInput token throughput (tok/s):          40.89     \nOutput token throughput (tok/s):         10.01     \n---------------Time to First Token----------------\nMean TTFT (ms):                          1222271.32\nMedian TTFT (ms):                        1247275.59\nP99 TTFT (ms):                           1247677.08\n-----Time per Output Token (excl. 1st token)------\nMean TPOT (ms):                          38.72     \nMedian TPOT (ms):                        38.23     \nP99 TPOT (ms):                           43.14     \n---------------Inter-token Latency----------------\nMean ITL (ms):                           38.69     \nMedian ITL (ms):                         32.07     \nP99 ITL (ms):                            301.00    \n==================================================\n\n/usr/local/lib/python3.10/dist-packages/transformers/utils/hub.py:111: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.\n  warnings.warn(\n\n  0%|          | 0/100 [00:00<?, ?it/s]\n  1%|          | 1/100 [20:47<34:18:03, 1247.30s/it]\n  2%|\u258f         | 2/100 [20:47<13:59:04, 513.72s/it] \n  3%|\u258e         | 3/100 [20:52<7:34:42, 281.26s/it] \n100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 100/100 [20:52<00:00, 12.52s/it] \n",
      "human_raw": "Error: Command 'python /tmp/vllm-human/benchmarks/benchmark_serving.py --model meta-llama/Meta-Llama-3-8B-Instruct --host 127.0.0.1 --port 29002 --dataset-name random --random-input-len 512 --random-output-len 128 --num-prompts 100' timed out after 1800 seconds",
      "agent_raw": "",
      "commit": "6d646d08",
      "full_commit": "6d646d08a2e0e73e83e313a5ae470c1f9e4f200e",
      "parent_commit": "95a178f86120f42d183b3af5ee1ce58ee05c8889",
      "model": "meta-llama/Meta-Llama-3-8B-Instruct",
      "subject": "[Core] Optimize Async + Multi-step (#8050)",
      "has_agent_patch": true
    },
    {
      "status": "success",
      "gpu_config": "H100:1",
      "baseline_metrics": {
        "throughput": 52.25
      },
      "human_metrics": {
        "throughput": 50.47
      },
      "agent_metrics": {},
      "human_improvement": {
        "throughput": -3.4066985645933037
      },
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": null,
      "duration_s": 229.77574133872986,
      "perf_command": "python benchmarks/benchmark_throughput.py  --input-len 256 --output-len 256 --model google/gemma-2b",
      "install_method": "docker_fallback",
      "baseline_raw": "Namespace(backend='vllm', dataset=None, input_len=256, output_len=256, model='google/gemma-2b', tokenizer='google/gemma-2b', quantization=None, tensor_parallel_size=1, n=1, use_beam_search=False, num_prompts=1000, seed=0, hf_max_batch_size=None, trust_remote_code=False, max_model_len=None, dtype='auto', gpu_memory_utilization=0.9, enforce_eager=False, kv_cache_dtype='auto', quantization_param_path=None, device='auto', num_scheduler_steps=1, use_v2_block_manager=False, enable_prefix_caching=False, enable_chunked_prefill=False, max_num_batched_tokens=None, download_dir=None, output_json=None, distributed_executor_backend=None, load_format='auto', disable_async_output_proc=False)\nINFO 12-31 06:33:48 llm_engine.py:210] Initializing an LLM engine (v0.5.5) with config: model='google/gemma-2b', speculative_config=None, tokenizer='google/gemma-2b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, rope_scaling=None, rope_theta=None, tokenizer_revision=None, trust_remote_code=False, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=LoadFormat.AUTO, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto, quantization_param_path=None, device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='outlines'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=google/gemma-2b, use_v2_block_manager=False, num_scheduler_steps=1, enable_prefix_caching=False, use_async_output_proc=True)\nINFO 12-31 06:33:51 model_runner.py:906] Starting to load model google/gemma-2b...\nWARNING 12-31 06:33:51 gemma.py:56] Gemma's activation function was incorrectly set to exact GeLU in the config JSON file when it was initially released. Changing the activation function to approximate GeLU (`gelu_pytorch_tanh`). If you want to use the legacy `gelu`, edit the config JSON to set `hidden_activation=gelu` instead of `hidden_act`. See https://github.com/huggingface/transformers/pull/29402 for more details.\nINFO 12-31 06:33:52 weight_utils.py:236] Using model weights format ['*.safetensors']\nINFO 12-31 06:34:12 model_runner.py:917] Loading model weights took 4.6720 GB\nINFO 12-31 06:34:18 gpu_executor.py:121] # GPU blocks: 231137, # CPU blocks: 14563\nINFO 12-31 06:34:19 model_runner.py:1212] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI.\nINFO 12-31 06:34:19 model_runner.py:1216] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.\nINFO 12-31 06:34:38 model_runner.py:1331] Graph capturing finished in 18 secs.\nThroughpu",
      "human_raw": "Namespace(backend='vllm', dataset=None, input_len=256, output_len=256, model='google/gemma-2b', tokenizer='google/gemma-2b', quantization=None, tensor_parallel_size=1, n=1, use_beam_search=False, num_prompts=1000, seed=0, hf_max_batch_size=None, trust_remote_code=False, max_model_len=None, dtype='auto', gpu_memory_utilization=0.9, enforce_eager=False, kv_cache_dtype='auto', quantization_param_path=None, device='auto', num_scheduler_steps=1, use_v2_block_manager=False, enable_prefix_caching=False, enable_chunked_prefill=False, max_num_batched_tokens=None, download_dir=None, output_json=None, distributed_executor_backend=None, load_format='auto', disable_async_output_proc=False)\nINFO 12-31 06:35:20 llm_engine.py:210] Initializing an LLM engine (v0.5.5) with config: model='google/gemma-2b', speculative_config=None, tokenizer='google/gemma-2b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, rope_scaling=None, rope_theta=None, tokenizer_revision=None, trust_remote_code=False, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=LoadFormat.AUTO, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto, quantization_param_path=None, device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='outlines'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=google/gemma-2b, use_v2_block_manager=False, num_scheduler_steps=1, enable_prefix_caching=False, use_async_output_proc=True)\nINFO 12-31 06:35:22 model_runner.py:906] Starting to load model google/gemma-2b...\nWARNING 12-31 06:35:23 gemma.py:56] Gemma's activation function was incorrectly set to exact GeLU in the config JSON file when it was initially released. Changing the activation function to approximate GeLU (`gelu_pytorch_tanh`). If you want to use the legacy `gelu`, edit the config JSON to set `hidden_activation=gelu` instead of `hidden_act`. See https://github.com/huggingface/transformers/pull/29402 for more details.\nINFO 12-31 06:35:23 weight_utils.py:236] Using model weights format ['*.safetensors']\nINFO 12-31 06:35:24 model_runner.py:917] Loading model weights took 4.6720 GB\nINFO 12-31 06:35:29 gpu_executor.py:121] # GPU blocks: 231137, # CPU blocks: 14563\nINFO 12-31 06:35:31 model_runner.py:1212] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI.\nINFO 12-31 06:35:31 model_runner.py:1216] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.\nINFO 12-31 06:35:54 model_runner.py:1331] Graph capturing finished in 23 secs.\nThroughpu",
      "agent_raw": "Namespace(backend='vllm', dataset=None, input_len=256, output_len=256, model='google/gemma-2b', tokenizer='google/gemma-2b', quantization=None, tensor_parallel_size=1, n=1, use_beam_search=False, num_prompts=1000, seed=0, hf_max_batch_size=None, trust_remote_code=False, max_model_len=None, dtype='auto', gpu_memory_utilization=0.9, enforce_eager=False, kv_cache_dtype='auto', quantization_param_path=None, device='auto', num_scheduler_steps=1, use_v2_block_manager=False, enable_prefix_caching=False, enable_chunked_prefill=False, max_num_batched_tokens=None, download_dir=None, output_json=None, distributed_executor_backend=None, load_format='auto', disable_async_output_proc=False)\nINFO 12-31 06:36:38 llm_engine.py:210] Initializing an LLM engine (v0.5.5) with config: model='google/gemma-2b', speculative_config=None, tokenizer='google/gemma-2b', skip_tokenizer_init=False, tokenizer_mode=auto, revision=None, rope_scaling=None, rope_theta=None, tokenizer_revision=None, trust_remote_code=False, dtype=torch.bfloat16, max_seq_len=8192, download_dir=None, load_format=LoadFormat.AUTO, tensor_parallel_size=1, pipeline_parallel_size=1, disable_custom_all_reduce=False, quantization=None, enforce_eager=False, kv_cache_dtype=auto, quantization_param_path=None, device_config=cuda, decoding_config=DecodingConfig(guided_decoding_backend='outlines'), observability_config=ObservabilityConfig(otlp_traces_endpoint=None, collect_model_forward_time=False, collect_model_execute_time=False), seed=0, served_model_name=google/gemma-2b, use_v2_block_manager=False, num_scheduler_steps=1, enable_prefix_caching=False, use_async_output_proc=True)\nINFO 12-31 06:36:41 model_runner.py:906] Starting to load model google/gemma-2b...\nWARNING 12-31 06:36:41 gemma.py:56] Gemma's activation function was incorrectly set to exact GeLU in the config JSON file when it was initially released. Changing the activation function to approximate GeLU (`gelu_pytorch_tanh`). If you want to use the legacy `gelu`, edit the config JSON to set `hidden_activation=gelu` instead of `hidden_act`. See https://github.com/huggingface/transformers/pull/29402 for more details.\nINFO 12-31 06:36:41 weight_utils.py:236] Using model weights format ['*.safetensors']\nINFO 12-31 06:36:42 model_runner.py:917] Loading model weights took 4.6720 GB\nINFO 12-31 06:36:47 gpu_executor.py:121] # GPU blocks: 231137, # CPU blocks: 14563\nINFO 12-31 06:36:49 model_runner.py:1212] Capturing the model for CUDA graphs. This may lead to unexpected consequences if the model is not static. To run the model in eager mode, set 'enforce_eager=True' or use '--enforce-eager' in the CLI.\nINFO 12-31 06:36:49 model_runner.py:1216] CUDA graphs can take additional 1~3 GiB memory per GPU. If you are running out of memory, consider decreasing `gpu_memory_utilization` or enforcing eager mode. You can also reduce the `max_num_seqs` as needed to decrease memory usage.\n\n/usr/local/lib/python3.10/dist-packages/transformers/utils/hub.py:111: FutureWarning: U",
      "agent_error": "Agent benchmark produced no metrics",
      "commit": "ce6bf3a2",
      "full_commit": "ce6bf3a2cff4860c5661cac2280e0a28bedb6440",
      "parent_commit": "3cdfe1f38b2c07a10a1681cd2d60c3bea1bae2f0",
      "model": "google/gemma-2b",
      "subject": "[torch.compile] avoid Dynamo guard evaluation over",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline benchmark produced no metrics",
      "duration_s": 1930.342678308487,
      "perf_command": "python benchmarks/benchmark_serving.py --model meta-llama/Llama-3.1-8B-Instruct --tensor-parallel-size 1 --enable-prefix-caching --use-v2-block-manager",
      "install_method": "docker_fallback",
      "baseline_raw": "Error: Command 'python /tmp/vllm-checkout/benchmarks/benchmark_serving.py --model meta-llama/Llama-3.1-8B-Instruct --host 127.0.0.1 --port 29001 --dataset-name random --random-input-len 512 --random-output-len 128 --num-prompts 100' timed out after 1800 seconds",
      "human_raw": "",
      "agent_raw": "",
      "commit": "660470e5",
      "full_commit": "660470e5a36b8e52083615ad7c85e9b4fd4c72ce",
      "parent_commit": "8d59dbb00044a588cab96bcdc028006ed922eb06",
      "model": "meta-llama/Llama-3.1-8B-Instruct",
      "subject": "[Core] Optimize evictor-v2 performance (#7193)",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "No JSON results in output. Stdout:   HF_TOKEN found (37 chars), will be used for model downloads\nChecking for dependency compatibility issues...\n  vLLM imports successfully, no fixes needed\nvLLM installed at: /usr/local/lib/python3.10/dist-packages/vllm\nCloning vLLM repo for Python overlay...\n  Cloning vLLM repo (shallow clone)...\n  Fetching commit 54600709...\n  Checking out 54600709...\n\n[1/3] Running BASELINE benchmark...\n  Overlaying Python files from 54600709...\n  Overlaid 278 Python files\n  vLLM version: 0.5.0.post1\n  [run_serving_benchmark] Cleaning up ports (HTTP=29001, NCCL=29001,29500)...\n  Starting vLLM server with cmd: python -m vllm.entrypoints.openai.api_server --model meta-llama/Llama-3.1-8B-Instruct --host 0.0.0.0 --port...\n  Setting MASTER_PORT=35001, MASTER_ADDR=127.0.0.1 (HTTP port=29001)\n",
      "duration_s": 471.15680718421936,
      "perf_command": "python benchmarks/benchmark_serving.py --model meta-llama/Llama-3.1-8B-Instruct --dtype float16 --num-prompts 300 --seed 0",
      "install_method": "docker_fallback",
      "commit": "3476ed08",
      "full_commit": "3476ed0809ec91a3457da0cb90543133a4f4b519",
      "parent_commit": "54600709b6d419fb243ce718a48ab7d40f5c3eb7",
      "model": "meta-llama/Llama-3.1-8B-Instruct",
      "subject": "[Core] Optimize block_manager_v2 vs block_manager_",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline benchmark produced no metrics",
      "duration_s": 626.2473931312561,
      "perf_command": "python benchmarks/benchmark_serving.py --model meta-llama/Llama-3.1-8B-Instruct --dtype float16 --num-prompts 300 --seed 0",
      "install_method": "docker_fallback",
      "baseline_raw": "Server failed to start. Server output: most recent call last):\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 4, in <module>\n    from transformers.generation.logits_process import LogitsWarper, PrefixConstrainedLogitsProcessor\nImportError: cannot import name 'LogitsWarper' from 'transformers.generation.logits_process' (/usr/local/lib/python3.10/dist-packages/transformers/generation/logits_process.py)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\n    return _run_code(code, main_globals, None,\n  File \"/usr/lib/python3.10/runpy.py\", line 86, in _run_code\n    exec(code, run_globals)\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/api_server.py\", line 33, in <module>\n    from vllm.entrypoints.openai.serving_chat import OpenAIServingChat\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/serving_chat.py\", line 27, in <module>\n    from vllm.model_executor.guided_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/__init__.py\", line 6, in <module>\n    from vllm.model_executor.guided_decoding.lm_format_enforcer_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/lm_format_enforcer_decoding.py\", line 8, in <module>\n    from lmformatenforcer.integrations.vllm import (\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/vllm.py\", line 8, in <module>\n    from lmformatenforcer.integrations.transformers import build_token_enforcer_tokenizer_data\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 7, in <module>\n    raise ImportError('transformers is not installed. Please install it with \"pip install transformers[torch]\"')\nImportError: transformers is not installed. Please install it with \"pip install transformers[torch]\"\n",
      "human_raw": "",
      "agent_raw": "",
      "commit": "7c01f706",
      "full_commit": "7c01f706418d593b3cf23d2ec9110dca7151c539",
      "parent_commit": "51e971d39e1272f1c5b070a5da6b38ccfa92fc14",
      "model": "meta-llama/Llama-3.1-8B-Instruct",
      "subject": "[Core] Optimize `SequenceStatus.is_finished` by sw",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline benchmark produced no metrics",
      "duration_s": 630.6659095287323,
      "perf_command": "python benchmarks/benchmark_serving.py --model meta-llama/Llama-3.1-8B-Instruct --dtype float16 --num-prompts 300 --seed 0",
      "install_method": "docker_fallback",
      "baseline_raw": "Server failed to start. Server output: most recent call last):\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 4, in <module>\n    from transformers.generation.logits_process import LogitsWarper, PrefixConstrainedLogitsProcessor\nImportError: cannot import name 'LogitsWarper' from 'transformers.generation.logits_process' (/usr/local/lib/python3.10/dist-packages/transformers/generation/logits_process.py)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\n    return _run_code(code, main_globals, None,\n  File \"/usr/lib/python3.10/runpy.py\", line 86, in _run_code\n    exec(code, run_globals)\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/api_server.py\", line 27, in <module>\n    from vllm.entrypoints.openai.serving_chat import OpenAIServingChat\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/serving_chat.py\", line 27, in <module>\n    from vllm.model_executor.guided_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/__init__.py\", line 6, in <module>\n    from vllm.model_executor.guided_decoding.lm_format_enforcer_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/lm_format_enforcer_decoding.py\", line 8, in <module>\n    from lmformatenforcer.integrations.vllm import (\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/vllm.py\", line 8, in <module>\n    from lmformatenforcer.integrations.transformers import build_token_enforcer_tokenizer_data\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 7, in <module>\n    raise ImportError('transformers is not installed. Please install it with \"pip install transformers[torch]\"')\nImportError: transformers is not installed. Please install it with \"pip install transformers[torch]\"\n",
      "human_raw": "",
      "agent_raw": "",
      "commit": "80aa7e91",
      "full_commit": "80aa7e91fcd547a7a1396f71b9bdce18e5c92245",
      "parent_commit": "bd43973522ea17be50e10fbb222a22f673c8067e",
      "model": "meta-llama/Llama-3.1-8B-Instruct",
      "subject": "[Hardware][Intel] Optimize CPU backend and add mor",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline benchmark produced no metrics",
      "duration_s": 621.9726951122284,
      "perf_command": "python benchmarks/benchmark_serving.py --model neuralmagic/Meta-Llama-3-8B-Instruct-FP8 --dataset-name sharegpt --dataset-path ./ShareGPT_V3_unfiltered_cleaned_split.json",
      "install_method": "docker_fallback",
      "baseline_raw": "Server failed to start. Server output: most recent call last):\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 4, in <module>\n    from transformers.generation.logits_process import LogitsWarper, PrefixConstrainedLogitsProcessor\nImportError: cannot import name 'LogitsWarper' from 'transformers.generation.logits_process' (/usr/local/lib/python3.10/dist-packages/transformers/generation/logits_process.py)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\n    return _run_code(code, main_globals, None,\n  File \"/usr/lib/python3.10/runpy.py\", line 86, in _run_code\n    exec(code, run_globals)\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/api_server.py\", line 27, in <module>\n    from vllm.entrypoints.openai.serving_chat import OpenAIServingChat\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/serving_chat.py\", line 25, in <module>\n    from vllm.model_executor.guided_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/__init__.py\", line 6, in <module>\n    from vllm.model_executor.guided_decoding.lm_format_enforcer_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/lm_format_enforcer_decoding.py\", line 8, in <module>\n    from lmformatenforcer.integrations.vllm import (\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/vllm.py\", line 8, in <module>\n    from lmformatenforcer.integrations.transformers import build_token_enforcer_tokenizer_data\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 7, in <module>\n    raise ImportError('transformers is not installed. Please install it with \"pip install transformers[torch]\"')\nImportError: transformers is not installed. Please install it with \"pip install transformers[torch]\"\n",
      "human_raw": "",
      "agent_raw": "",
      "commit": "8d75fe48",
      "full_commit": "8d75fe48ca5f46b7af0f5201d8500b9604eed769",
      "parent_commit": "388596c91437a51d428a447594e9faec340c29b2",
      "model": "neuralmagic/Meta-Llama-3-8B-Instruct-FP8",
      "subject": "[Kernel] Switch fp8 layers to use the CUTLASS kern",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:4",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline benchmark produced no metrics",
      "duration_s": 626.5555164813995,
      "perf_command": "python benchmarks/benchmark_serving.py --model meta-llama/Meta-Llama-3-70B --input-len 1000 --output-len 50 --tensor-parallel-size 4 --quantization fp8",
      "install_method": "docker_fallback",
      "baseline_raw": "Server failed to start. Server output: most recent call last):\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 4, in <module>\n    from transformers.generation.logits_process import LogitsWarper, PrefixConstrainedLogitsProcessor\nImportError: cannot import name 'LogitsWarper' from 'transformers.generation.logits_process' (/usr/local/lib/python3.10/dist-packages/transformers/generation/logits_process.py)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python3.10/runpy.py\", line 196, in _run_module_as_main\n    return _run_code(code, main_globals, None,\n  File \"/usr/lib/python3.10/runpy.py\", line 86, in _run_code\n    exec(code, run_globals)\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/api_server.py\", line 26, in <module>\n    from vllm.entrypoints.openai.serving_chat import OpenAIServingChat\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/entrypoints/openai/serving_chat.py\", line 20, in <module>\n    from vllm.model_executor.guided_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/__init__.py\", line 5, in <module>\n    from vllm.model_executor.guided_decoding.lm_format_enforcer_decoding import (\n  File \"/usr/local/lib/python3.10/dist-packages/vllm/model_executor/guided_decoding/lm_format_enforcer_decoding.py\", line 8, in <module>\n    from lmformatenforcer.integrations.vllm import (\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/vllm.py\", line 8, in <module>\n    from lmformatenforcer.integrations.transformers import build_token_enforcer_tokenizer_data\n  File \"/usr/local/lib/python3.10/dist-packages/lmformatenforcer/integrations/transformers.py\", line 7, in <module>\n    raise ImportError('transformers is not installed. Please install it with \"pip install transformers[torch]\"')\nImportError: transformers is not installed. Please install it with \"pip install transformers[torch]\"\n",
      "human_raw": "",
      "agent_raw": "",
      "commit": "379da6dc",
      "full_commit": "379da6dcb5f5d062d0452b2fc23291e5113dcf04",
      "parent_commit": "ebce310b7433e050086f52ca48571807df467f50",
      "model": "meta-llama/Meta-Llama-3-70B",
      "subject": "[Kernel] [FP8] Improve FP8 linear layer performanc",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline install failed: No wheel available and no ancestor wheel found for 36fb68f94792",
      "server_logs": null,
      "duration_s": 33.5174081325531,
      "perf_command": "python benchmarks/benchmark_serving.py --model mistralai/Mixtral-8x7B-Instruct-v0.1 --quantization fp8",
      "benchmark_mode": "serving",
      "patch_type": "python_only",
      "commit": "2a052011",
      "full_commit": "2a052011ca473a9dc8160f3daa1f5f63a2ad1fe3",
      "parent_commit": "36fb68f94792a8cec8df5b58bab7ab4d4d6158b4",
      "model": "mistralai/Mixtral-8x7B-Instruct-v0.1",
      "subject": "[Kernel] Support MoE Fp8 Checkpoints for Mixtral (",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Could not find vLLM installation",
      "duration_s": 9.671092748641968,
      "perf_command": "python /home/ray/default/vllm_public/benchmarks/benchmark_latency.py --model meta-llama/Llama-2-7b-chat-hf  --batch-size 1 --output-len 2 --input-len 1000 --num-iters 1",
      "install_method": "docker_fallback",
      "baseline_raw": "",
      "human_raw": "",
      "agent_raw": "",
      "commit": "bfdb1ba5",
      "full_commit": "bfdb1ba5c3fb14387c69acb1f5067102d8028e56",
      "parent_commit": "cf2f084d56a1293cb08da2393984cdc7685ac019",
      "model": "meta-llama/Llama-2-7b-chat-hf",
      "subject": "[Core] Improve detokenization performance for pref",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:8",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Could not find vLLM installation",
      "duration_s": 15.849550485610962,
      "perf_command": "python benchmarks/benchmark_serving.py --model mistralai/Mixtral-8x7B-Instruct-v0.1 --tensor-parallel-size 8",
      "install_method": "docker_fallback",
      "baseline_raw": "",
      "human_raw": "",
      "agent_raw": "",
      "commit": "21d93c14",
      "full_commit": "21d93c140d0a97af5f0c59e660cf04bd417fd424",
      "parent_commit": "f1c8520146031a650404a6ab120ee11e91c10bed",
      "model": "mistralai/Mixtral-8x7B-Instruct-v0.1",
      "subject": "Optimize Mixtral with expert parallelism (#2090)",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline install failed: No wheel available and no ancestor wheel found for 7a7929abe8e2",
      "server_logs": null,
      "duration_s": 22.84300136566162,
      "perf_command": "python benchmark/benchmark_latency.py --model facebook/opt-13b",
      "benchmark_mode": "standalone",
      "patch_type": "python_only",
      "commit": "c45f3c3a",
      "full_commit": "c45f3c3ab60f4bf4eaab791a76028b8b07ffe9bd",
      "parent_commit": "7a7929abe8e2fd6a4688487c471a1ee1fde0edd2",
      "model": "facebook/opt-13b",
      "subject": "Optimize tensor parallel execution speed (#17)",
      "has_agent_patch": true
    },
    {
      "status": "error",
      "gpu_config": "H100:1",
      "baseline_metrics": {},
      "human_metrics": {},
      "agent_metrics": null,
      "human_improvement": {},
      "agent_improvement": null,
      "agent_vs_human": null,
      "error": "Baseline install failed: No wheel available and no ancestor wheel found for b56b6ca0d650",
      "server_logs": null,
      "duration_s": 23.954053163528442,
      "perf_command": "python benchmarks/benchmark_serving.py --model facebook/opt-125m --num-prompts 100",
      "benchmark_mode": "serving",
      "patch_type": "python_only",
      "commit": "d4bc1a4d",
      "full_commit": "d4bc1a4d248a5d23e1f731ecb53511a9a54f5dfc",
      "parent_commit": "b56b6ca0d650c653c80ec113e27d6a8e640a4b2f",
      "model": "facebook/opt-125m",
      "subject": "Add unoptimized OPT Attention",
      "has_agent_patch": true
    },
    {
      "status": "success",
      "gpu_config": "H100:1",
      "baseline_metrics": {
        "ttft_mean": 36856.09,
        "ttft_median": 37151.04,
        "ttft_p99": 45561.0,
        "tpot_mean": 77.66,
        "tpot_median": 75.18,
        "tpot_p99": 311.79,
        "itl_mean": 77.66,
        "itl_median": 57.41,
        "itl_p99": 126.66
      },
      "human_metrics": {
        "ttft_mean": 8794.95,
        "ttft_median": 8066.82,
        "ttft_p99": 16029.45,
        "tpot_mean": 66.44,
        "tpot_median": 71.88,
        "tpot_p99": 106.11,
        "itl_mean": 66.44,
        "itl_median": 57.78,
        "itl_p99": 114.56
      },
      "agent_metrics": {
        "ttft_mean": 9037.35,
        "ttft_median": 8520.18,
        "ttft_p99": 16384.51,
        "tpot_mean": 67.02,
        "tpot_median": 72.43,
        "tpot_p99": 107.54,
        "itl_mean": 67.02,
        "itl_median": 59.34,
        "itl_p99": 120.89
      },
      "human_improvement": {
        "ttft_mean": 76.13705089172508,
        "ttft_median": 78.2864221297708,
        "ttft_p99": 64.81760716402187,
        "tpot_mean": 14.44759206798867,
        "itl_mean": 14.44759206798867
      },
      "agent_improvement": {
        "ttft_mean": 75.47935768552769,
        "ttft_median": 77.06610635933745,
        "ttft_p99": 64.03830030069577,
        "tpot_mean": 13.700746845222767,
        "itl_mean": 13.700746845222767
      },
      "agent_vs_human": {
        "ttft_mean": -2.7561270956628476,
        "ttft_median": -5.62005846169867,
        "ttft_p99": -2.2150479274085986,
        "tpot_mean": -0.8729680915111353,
        "itl_mean": -0.8729680915111353
      },
      "error": null,
      "server_logs": null,
      "duration_s": 590.4696564674377,
      "perf_command": "python benchmarks/benchmark_serving.py --model ibm-ai-platform/Bamba-9B-v2 --dtype float16 --num-prompts 300 --seed 0",
      "benchmark_mode": "serving",
      "patch_type": "python_only",
      "baseline_version": "0.10.1.dev312+g25373b6c6",
      "baseline_install_method": "wheel",
      "baseline_raw": "INFO 12-31 16:04:28 [__init__.py:241] Automatically detected platform cuda.\nNamespace(subparser='bench', bench_type='serve', dispatch_function=<function BenchmarkServingSubcommand.cmd at 0x2b6a99ea0ea0>, seed=0, num_prompts=300, dataset_name='random', no_stream=False, dataset_path=None, custom_output_len=256, custom_skip_chat_template=False, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=128, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, endpoint_type='openai', label=None, backend='vllm', base_url=None, host='127.0.0.1', port=18001, endpoint='/v1/completions', max_concurrency=None, model='ibm-ai-platform/Bamba-9B-v2', tokenizer=None, use_beam_search=False, logprobs=None, request_rate=inf, burstiness=1.0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=False, save_detailed=False, append_result=False, metadata=None, result_dir=None, result_filename=None, ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None, ramp_up_strategy=None, ramp_up_start_rps=None, ramp_up_end_rps=None)\nINFO 12-31 16:04:34 [datasets.py:355] Sampling input_len from [511, 511] and output_len from [128, 128]\nStarting initial single prompt test run...\nInitial test run completed. Starting main benchmark run...\nTraffic request rate: inf\nBurstiness factor: 1.0 (Poisson process)\nMaximum request concurrency: None\n============ Serving Benchmark Result ============\nSuccessful requests:                     300       \nBenchmark duration (s):                  49.03     \nTotal input tokens:                      153160    \nTotal generated tokens:                  38400     \nRequest throughput (req/s):              6.12      \nOutput token throughput (tok/s):         783.16    \nTotal Token throughput (tok/s):          3906.83   \n---------------Time to First Token----------------\nMean TTFT (ms):                          36856.09  \nMedian TTFT (ms):                        37151.04  \nP99 TTFT (ms):                           45561.00  \n-----Time per Output Token (excl. 1st token)------\nMean TPOT (ms):                          77.66     \nMedian TPOT (ms):                        75.18     \nP99 TPOT (ms):                           311.79    \n---------------Inter-token Latency----------------\nMean ITL (ms):                           77.66     \nMedian ITL (ms):                         57.41     \nP99 ITL (ms):                            126.66    \n==================================================\n\n/usr/local/lib/python3.11/site-packages/transformers/utils/hub.py:110: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.\n  warnings.warn(\n\n  0%|          | 0/300 [00:00<?, ?it/s]\n  0%|          | 1/300 [00:44<3:40:11, 44.18s/",
      "human_version": "0.10.1.dev313+gb690e3482",
      "human_install_method": "wheel",
      "human_raw": "INFO 12-31 16:07:19 [__init__.py:241] Automatically detected platform cuda.\nNamespace(subparser='bench', bench_type='serve', dispatch_function=<function BenchmarkServingSubcommand.cmd at 0x2b4f99404ea0>, seed=0, num_prompts=300, dataset_name='random', no_stream=False, dataset_path=None, custom_output_len=256, custom_skip_chat_template=False, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=128, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, endpoint_type='openai', label=None, backend='vllm', base_url=None, host='127.0.0.1', port=18002, endpoint='/v1/completions', max_concurrency=None, model='ibm-ai-platform/Bamba-9B-v2', tokenizer=None, use_beam_search=False, logprobs=None, request_rate=inf, burstiness=1.0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=False, save_detailed=False, append_result=False, metadata=None, result_dir=None, result_filename=None, ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None, ramp_up_strategy=None, ramp_up_start_rps=None, ramp_up_end_rps=None)\nINFO 12-31 16:07:25 [datasets.py:355] Sampling input_len from [511, 511] and output_len from [128, 128]\nStarting initial single prompt test run...\nInitial test run completed. Starting main benchmark run...\nTraffic request rate: inf\nBurstiness factor: 1.0 (Poisson process)\nMaximum request concurrency: None\n============ Serving Benchmark Result ============\nSuccessful requests:                     300       \nBenchmark duration (s):                  19.59     \nTotal input tokens:                      153160    \nTotal generated tokens:                  38400     \nRequest throughput (req/s):              15.31     \nOutput token throughput (tok/s):         1959.77   \nTotal Token throughput (tok/s):          9776.38   \n---------------Time to First Token----------------\nMean TTFT (ms):                          8794.95   \nMedian TTFT (ms):                        8066.82   \nP99 TTFT (ms):                           16029.45  \n-----Time per Output Token (excl. 1st token)------\nMean TPOT (ms):                          66.44     \nMedian TPOT (ms):                        71.88     \nP99 TPOT (ms):                           106.11    \n---------------Inter-token Latency----------------\nMean ITL (ms):                           66.44     \nMedian ITL (ms):                         57.78     \nP99 ITL (ms):                            114.56    \n==================================================\n\n/usr/local/lib/python3.11/site-packages/transformers/utils/hub.py:110: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.\n  warnings.warn(\n\n  0%|          | 0/300 [00:00<?, ?it/s]\n  0%|          | 1/300 [00:14<1:13:14, 14.70s/",
      "agent_raw": "INFO 12-31 16:09:41 [__init__.py:241] Automatically detected platform cuda.\nNamespace(subparser='bench', bench_type='serve', dispatch_function=<function BenchmarkServingSubcommand.cmd at 0x2b945530cea0>, seed=0, num_prompts=300, dataset_name='random', no_stream=False, dataset_path=None, custom_output_len=256, custom_skip_chat_template=False, sonnet_input_len=550, sonnet_output_len=150, sonnet_prefix_len=200, sharegpt_output_len=None, random_input_len=512, random_output_len=128, random_range_ratio=0.0, random_prefix_len=0, hf_subset=None, hf_split=None, hf_output_len=None, endpoint_type='openai', label=None, backend='vllm', base_url=None, host='127.0.0.1', port=18003, endpoint='/v1/completions', max_concurrency=None, model='ibm-ai-platform/Bamba-9B-v2', tokenizer=None, use_beam_search=False, logprobs=None, request_rate=inf, burstiness=1.0, trust_remote_code=False, disable_tqdm=False, profile=False, save_result=False, save_detailed=False, append_result=False, metadata=None, result_dir=None, result_filename=None, ignore_eos=False, percentile_metrics='ttft,tpot,itl', metric_percentiles='99', goodput=None, top_p=None, top_k=None, min_p=None, temperature=None, tokenizer_mode='auto', served_model_name=None, lora_modules=None, ramp_up_strategy=None, ramp_up_start_rps=None, ramp_up_end_rps=None)\nINFO 12-31 16:09:48 [datasets.py:355] Sampling input_len from [511, 511] and output_len from [128, 128]\nStarting initial single prompt test run...\nInitial test run completed. Starting main benchmark run...\nTraffic request rate: inf\nBurstiness factor: 1.0 (Poisson process)\nMaximum request concurrency: None\n============ Serving Benchmark Result ============\nSuccessful requests:                     300       \nBenchmark duration (s):                  19.88     \nTotal input tokens:                      153160    \nTotal generated tokens:                  38400     \nRequest throughput (req/s):              15.09     \nOutput token throughput (tok/s):         1931.15   \nTotal Token throughput (tok/s):          9633.62   \n---------------Time to First Token----------------\nMean TTFT (ms):                          9037.35   \nMedian TTFT (ms):                        8520.18   \nP99 TTFT (ms):                           16384.51  \n-----Time per Output Token (excl. 1st token)------\nMean TPOT (ms):                          67.02     \nMedian TPOT (ms):                        72.43     \nP99 TPOT (ms):                           107.54    \n---------------Inter-token Latency----------------\nMean ITL (ms):                           67.02     \nMedian ITL (ms):                         59.34     \nP99 ITL (ms):                            120.89    \n==================================================\n\n/usr/local/lib/python3.11/site-packages/transformers/utils/hub.py:110: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.\n  warnings.warn(\n\n  0%|          | 0/300 [00:00<?, ?it/s]\n  0%|          | 1/300 [00:15<1:14:52, 15.03s/",
      "commit": "b690e348",
      "full_commit": "b690e34824fd5a5c4054a0c0468ebfb6aa1dd215",
      "parent_commit": "25373b6c6cc2068e3914fa906d3240088f7af157",
      "model": "ibm-ai-platform/Bamba-9B-v2",
      "subject": "[Model] Mamba2 preallocate SSM output tensor to av",
      "has_agent_patch": true
    }
  ]
}