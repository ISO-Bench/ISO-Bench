{
  "instance": {
    "commit_hash": "9ed82e7074a18e25680ab106fc846364ad97bc00",
    "commit_subject": "[Misc] Small perf improvements (#6520)",
    "repo": "vllm",
    "pr_url": "https://github.com/vllm-project/vllm/pull/6520",
    "files_changed": [
      "tests/core/block/test_block_manager_v2.py",
      "tests/core/block/test_cpu_gpu_block_allocator.py",
      "vllm/core/block/block_table.py",
      "vllm/core/block/prefix_caching_block.py",
      "vllm/model_executor/models/__init__.py",
      "vllm/sequence.py",
      "vllm/utils.py"
    ]
  },
  "result": {
    "status": "baseline_failed",
    "commit_hash": "9ed82e7074a18e25680ab106fc846364ad97bc00",
    "baseline_ms": null,
    "patched_ms": null,
    "speedup": null,
    "improvement": false,
    "baseline_output": null,
    "patched_output": null,
    "error_message": "Baseline test failed to produce JSON output",
    "stdout": "WARNING 12-24 19:16:06 _custom_ops.py:14] Failed to import from vllm._C with ModuleNotFoundError(\"No module named 'vllm._C'\")\n",
    "stderr": "/tmp/omniperf_worktree_fy9yydzc/worktree/vllm/usage/usage_lib.py:19: RuntimeWarning: Failed to read commit hash:\nNo module named 'vllm.commit_id'\n  from vllm.version import __version__ as VLLM_VERSION\nTraceback (most recent call last):\n  File \"/tmp/omniperf_test_v31mw6za.py\", line 357, in <module>\n    run_test(args.eqcheck, args.reference, args.prefix)\n  File \"/tmp/omniperf_test_v31mw6za.py\", line 304, in run_test\n    data = setup()\n           ^^^^^^^\n  File \"/tmp/omniperf_test_v31mw6za.py\", line 172, in setup\n    allocator = NaiveBlockAllocator(\n                ^^^^^^^^^^^^^^^^^^^^\n  File \"/tmp/omniperf_worktree_fy9yydzc/worktree/vllm/core/block/naive_block.py\", line 56, in __init__\n    self._block_pool = BlockPool(self._block_size, create_block, self,\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/tmp/omniperf_worktree_fy9yydzc/worktree/vllm/core/block/common.py\", line 175, in __init__\n    self._create_block(prev_block=None,\nTypeError: setup.<locals>.<lambda>() got an unexpected keyword argument 'prev_block'\n",
    "duration_s": 4.923243045806885,
    "patch_path": "/root/OmniPerf-Bench/perf-agents-bench/state/runs/vllm/claude_code/default/2025-12-23_04-37-32/vllm_core-0055/model_patch.diff",
    "patch_stats": null
  }
}