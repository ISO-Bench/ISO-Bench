---
license: mit
task_categories:
- text-generation
- code-generation
tags:
- agent-trajectories
- performance-optimization
- code-optimization
- trae
- gpt-5
pretty_name: TRAE GPT-5 Agent Trajectories
size_categories:
- 10K<n<100K
---

# TRAE GPT-5 Agent Trajectories

This dataset contains complete agent execution trajectories from TRAE (Tool-use Reasoning Agent for Execution) runs using GPT-5 on performance optimization tasks.

## Dataset Overview

**Agent:** TRAE
**Model:** GPT-5 (gpt-5-2025-08-07)
**Task:** Performance optimization commits from vLLM repository
**Date:** December 2025

### Statistics

**vLLM Rerun:**
- Total commits: 53
- Successful: 32 (60.4%)
- Failed: 21 (39.6%)
- Total files: 318

**Quality Analysis:**
- Real optimizations: 29/32 (90.6%)
- Average patch size (substantial): 78.6 LOC
- False positives (empty patches): 3/32 (9.4%)

## Context: Tool Results Bug Fix

These reruns were conducted after fixing a critical bug in TRAE's base_agent.py where tool_calls were not being handled before sending task_incomplete_message. This bug affected 142 GPT-5 runs (32.7% of all runs) in the original evaluation.

**Bug Impact in Original Evaluation:**
- 142 runs with "No tool output found" error (32.7%)
- 71 runs with quota exhaustion (16.4%)
- 33 runs with invalid API key (7.6%)

**Configuration Changes:**
- Increased max_steps from 120 → 400 to allow complex optimizations
- Fixed tool_calls handling in base_agent.py (lines 179-188)

## Dataset Structure

```
.
├── metadata.json          # Overall dataset metadata
├── vllm/
│   └── <commit_hash>/
│       ├── trajectory.json      # Complete agent execution trace
│       ├── journal.json         # Run metadata and final status
│       ├── model_patch.diff     # Generated code patch
│       ├── run_summary.json     # Performance metrics
│       ├── task.txt             # Original optimization task
│       └── prediction.jsonl     # Agent prediction output
```

## File Descriptions

### trajectory.json
Complete step-by-step execution trace including:
- Agent reasoning and decisions
- Tool calls (bash, edit, task_done, etc.)
- Tool results and outputs
- LLM responses with token counts
- Timestamps for each step

### journal.json
Run metadata including:
- Commit hashes (base and head)
- Final status (success/error)
- Agent configuration
- Execution time
- Metrics (patch size, changed files, violations)

### model_patch.diff
The actual code patch generated by the agent for the optimization task.

### run_summary.json
Summary metrics for the run:
- Task completion status
- Number of steps taken
- Files modified
- Performance indicators

## Use Cases

1. **Agent Behavior Analysis:** Study how TRAE + GPT-5 approaches performance optimization tasks
2. **Model Comparison:** Compare GPT-5 vs Claude Sonnet 4.5 trajectories on same tasks
3. **Tool Usage Patterns:** Analyze which tools agents use and when
4. **Success/Failure Analysis:** Compare trajectories of successful vs failed runs
5. **Bug Impact Assessment:** Evaluate effect of tool_results bug fix on success rates
6. **Training Data:** Use trajectories for training or fine-tuning agent models
7. **Prompt Engineering:** Learn effective prompting strategies from successful runs

## Key Findings

**vLLM GPT-5 Rerun Results:**
- Success rate: 60.4% (32/53 commits)
- Quality: 90.6% real optimizations (29/32)
- False positives: 9.4% (3/32 empty patches)
- Average substantial patch: 78.6 LOC

**Optimization Patterns Observed:**
- Regex precompilation (avoiding repeated `re.compile()`)
- torch.zeros → torch.empty conversions
- Cached attribute lookups (avoiding repeated `getattr()`)
- Environment variable caching
- XDG path caching
- Loop restructuring (while → for)

**Tool Results Bug Fix Validation:**
- Original evaluation: 142 runs with "No tool output found" error
- Rerun results: 0 tool output errors in all 53 runs
- Confirms bug fix in base_agent.py successfully resolves OpenAI API compatibility

## Comparison with Claude Sonnet 4.5

| Metric | Claude Sonnet 4.5 | GPT-5 |
|--------|------------------|-------|
| vLLM Success Rate | 74.7% | 60.4% |
| Real Optimizations | Not measured | 90.6% |
| Tool Output Errors | 0 | 0 |
| Max Steps Required | 200+ (some) | Not measured |

## Citation

If you use this dataset, please cite:

```bibtex
@misc{trae-gpt5-trajectories,
  title={TRAE GPT-5 Agent Trajectories},
  author={ISO-Bench Contributors},
  year={2025},
  publisher={HuggingFace},
  howpublished={\url{https://huggingface.co/datasets/ISO-Bench/agent-trajectories-gpt5}}
}
```

## Related Resources

- **ISO-Bench Repository:** [github.com/ISO-Bench/ISO-Bench](https://github.com/ISO-Bench/ISO-Bench)
- **TRAE Agent:** [github.com/ISO-Bench/trae-agent](https://github.com/ISO-Bench/trae-agent)
- **vLLM Dataset:** [ISO-Bench/ISO-Bench](https://huggingface.co/datasets/ISO-Bench/ISO-Bench)
- **Claude Sonnet 4.5 Trajectories:** [ISO-Bench/agent-trajectories](https://huggingface.co/datasets/ISO-Bench/agent-trajectories)

## License

MIT License - See repository for full license text.
