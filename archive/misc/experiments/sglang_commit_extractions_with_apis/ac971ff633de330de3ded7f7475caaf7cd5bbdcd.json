{
  "commit_hash": "ac971ff633de330de3ded7f7475caaf7cd5bbdcd",
  "pr_url": "https://github.com/sgl-project/sglang/pull/658",
  "pr_date": "2024-07-19",
  "timeline_text": "Copy link Member zhyncs commented Jul 19, 2024 Motivation as titled cc @merrymercy @Ying1123 @hnyls2002 Modification as titled Checklist Ensure pre-commit pre-commit run --all-files or other linting tools are used to fix potential lint issues. Confirm that modifications are covered by complete unit tests. If not, please add more unit tests for correctness. Modify documentation as needed, such as docstrings or example tutorials. Sorry, something went wrong. Uh oh! There was an error while loading. Please reload this page . All reactions perf: reduce ttft and itl with stream_interval 1 a0dbe23 zhyncs requested review from Ying1123 , merrymercy and hnyls2002 July 19, 2024 16:12 Ying1123 merged commit ac971ff into sgl-project : main Jul 19, 2024 zhyncs deleted the interval branch July 19, 2024 16:17 timethink pushed a commit\n        to timethink/sglang\n      that referenced\n      this pull request Mar 9, 2025 perf: reduce ttft and itl with stream_interval 1 ( sgl-project#658 ) 87bb308 Sign up for free to join this conversation on GitHub .\n    Already have an account? Sign in to comment",
  "timeline_extracted_at": "2025-09-11 19:00:45",
  "has_lm_eval": false,
  "has_performance": true,
  "has_serving": false,
  "has_general_test": false,
  "test_details": "PERF",
  "analysis_extracted_at": null,
  "models": [
    "N/A"
  ],
  "lm_eval_commands": null,
  "perf_command": null,
  "commit_subject": "perf: reduce ttft and itl with stream_interval 1 (#658)",
  "commit_message": "perf: reduce ttft and itl with stream_interval 1 (#658)",
  "commit_date": "2024-07-19T09:14:22-07:00",
  "files_changed": [
    "python/sglang/srt/server_args.py"
  ],
  "functions_changed": [],
  "stats": {
    "commit_year": 2024,
    "num_edited_lines": 2,
    "num_files": 1,
    "num_hunks": 1,
    "num_non_test_edited_lines": 2,
    "num_non_test_files": 1,
    "num_test_files": 0,
    "only_non_test_files": 1,
    "only_test_files": 0
  },
  "diff_text": "diff --git a/python/sglang/srt/server_args.py b/python/sglang/srt/server_args.py\nindex 7c0317fc0..50fe7cd17 100644\n--- a/python/sglang/srt/server_args.py\n+++ b/python/sglang/srt/server_args.py\n@@ -33,7 +33,7 @@ class ServerArgs:\n \n     # Other runtime options\n     tp_size: int = 1\n-    stream_interval: int = 8\n+    stream_interval: int = 1\n     random_seed: Optional[int] = None\n \n     # Logging",
  "apis": [
    "sglang.srt.server_args.ServerArgs"
  ],
  "affected_paths": [
    "/path/to/repos/sglang/python/sglang/srt/server_args.py",
    "/path/to/repos/sglang/python/sglang/api.py",
    "/path/to/repos/sglang/benchmark/lora/launch_server.py",
    "/path/to/repos/sglang/python/sglang/launch_server.py",
    "/path/to/repos/sglang/sgl-router/py_src/sglang_router/launch_server.py"
  ],
  "repo_path": "/path/to/repos/sglang",
  "llm_reason": "The commit modifies a non-test, source-code file (server_args.py) by changing the default value of the parameter \u201cstream_interval\u201d from 8 to 1. Although the commit message mentions a performance intent with \u201cperf: reduce ttft and itl,\u201d the change targets a runtime parameter that likely impacts latency or responsiveness, which are performance attributes. The change is not just a bug fix or refactoring; it is a deliberate parameter tuning aimed at improving performance on CPU workloads. Therefore, it meets the criteria for a performance/optimization-related change.",
  "llm_api_reason": "The commit modifies the default value of the stream_interval parameter in the ServerArgs dataclass (from 8 to 1), thereby reducing the time-to-first-token and inter-token latency. This change affects configuration passed to the server initialization API, influencing its performance behavior during inference."
}