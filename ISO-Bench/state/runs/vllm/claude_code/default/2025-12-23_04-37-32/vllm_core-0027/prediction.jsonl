{"instance_id": "vllm-project__vllm-8d59dbb", "model_patch": "diff --git a/vllm/core/evictor_v2.py b/vllm/core/evictor_v2.py\nindex 3dd12e2e2..5fc75dc19 100644\n--- a/vllm/core/evictor_v2.py\n+++ b/vllm/core/evictor_v2.py\n@@ -59,6 +59,7 @@ class BlockMetaData():\n     Here we use physical block id as the dict key, as there maybe several\n     blocks with the same content hash, but their physical id is unique.\n     \"\"\"\n+    __slots__ = ('content_hash', 'num_hashed_tokens', 'last_accessed')\n \n     def __init__(self, content_hash: int, num_hashed_tokens: int,\n                  last_accessed: float):\n@@ -85,12 +86,14 @@ class LRUEvictor(Evictor):\n         if len(self.free_table) == 0:\n             raise ValueError(\"No usable cache memory left\")\n \n-        evicted_block = next(iter(self.free_table.values()))\n-        evicted_block_id = next(iter(self.free_table.keys()))\n+        # Use single items() iterator instead of separate keys/values iterators\n+        items = iter(self.free_table.items())\n+        evicted_block_id, evicted_block = next(items)\n+\n         # The blocks with the lowest timestamps should be placed consecutively\n         # at the start of OrderedDict. Loop through all these blocks to\n         # find the one with maximum number of hashed tokens.\n-        for _id, block in self.free_table.items():\n+        for _id, block in items:\n             if evicted_block.last_accessed > block.last_accessed or (\n                     evicted_block.last_accessed == block.last_accessed and\n                     evicted_block.num_hashed_tokens < block.num_hashed_tokens):\n@@ -111,10 +114,11 @@ class LRUEvictor(Evictor):\n         self.free_table[block_id].last_accessed = last_accessed\n \n     def remove(self, block_id: int):\n-        if block_id not in self.free_table:\n+        try:\n+            self.free_table.pop(block_id)\n+        except KeyError:\n             raise ValueError(\n                 \"Attempting to remove block that's not in the evictor\")\n-        self.free_table.pop(block_id)\n \n     @property\n     def num_blocks(self) -> int:\n", "model_name_or_path": "gpt-5-2025-08-07"}
