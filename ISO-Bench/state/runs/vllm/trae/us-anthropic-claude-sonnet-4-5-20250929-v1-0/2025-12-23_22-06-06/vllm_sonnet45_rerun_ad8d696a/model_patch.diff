diff --git a/vllm/core/scheduler.py b/vllm/core/scheduler.py
index 4198550..eadecc8 100644
--- a/vllm/core/scheduler.py
+++ b/vllm/core/scheduler.py
@@ -66,7 +66,7 @@ class SchedulingBudget:
     def subtract_num_batched_tokens(self, req_id: str,
                                     num_batched_tokens: int):
         if req_id in self._requeset_ids_num_batched_tokens:
-            self._requeset_ids_num_batched_tokens.remove(req_id)
+            self._requeset_ids_num_batched_tokens.discard(req_id)
             self._num_batched_tokens -= num_batched_tokens
 
     def add_num_seqs(self, req_id: str, num_curr_seqs: int):
@@ -78,7 +78,7 @@ class SchedulingBudget:
 
     def subtract_num_seqs(self, req_id: str, num_curr_seqs: int):
         if req_id in self._requeset_ids_num_curr_seqs:
-            self._requeset_ids_num_curr_seqs.remove(req_id)
+            self._requeset_ids_num_curr_seqs.discard(req_id)
             self._num_curr_seqs -= num_curr_seqs
 
     @property
@@ -326,7 +326,7 @@ class Scheduler:
                 if seq_group.request_id in request_ids:
                     # Appending aborted group into pending list.
                     aborted_groups.append(seq_group)
-                    request_ids.remove(seq_group.request_id)
+                    request_ids.discard(seq_group.request_id)
             for aborted_group in aborted_groups:
                 # Remove the sequence group from the state queue.
                 state_queue.remove(aborted_group)
@@ -594,10 +594,11 @@ class Scheduler:
         seq_groups: List[SequenceGroup] = []
         # We don't sort waiting queue because we assume it is sorted.
         # Copy the queue so that the input queue is not modified.
-        waiting_queue = deque([s for s in waiting_queue])
+        waiting_queue = deque(waiting_queue)
 
         leftover_waiting_sequences: Deque[SequenceGroup] = deque()
-        while self._passed_delay(time.time()) and waiting_queue:
+        now = time.time()
+        while self._passed_delay(now) and waiting_queue:
             seq_group = waiting_queue[0]
 
             waiting_seqs = seq_group.get_seqs(status=SequenceStatus.WAITING)
@@ -979,9 +980,7 @@ class Scheduler:
             cows = self.block_manager.append_slots(seq, num_lookahead_slots)
 
             for src, dests in cows.items():
-                if src not in blocks_to_copy:
-                    blocks_to_copy[src] = []
-                blocks_to_copy[src].extend(dests)
+                blocks_to_copy.setdefault(src, []).extend(dests)
 
     def _preempt(
         self,
@@ -1064,7 +1063,7 @@ class Scheduler:
         # Delay scheduling prompts to let waiting queue fill up
         if self.scheduler_config.delay_factor > 0 and self.waiting:
             earliest_arrival_time = min(
-                [e.metrics.arrival_time for e in self.waiting])
+                (e.metrics.arrival_time for e in self.waiting))
             passed_delay = (
                 (now - earliest_arrival_time) >
                 (self.scheduler_config.delay_factor * self.last_prompt_latency)
