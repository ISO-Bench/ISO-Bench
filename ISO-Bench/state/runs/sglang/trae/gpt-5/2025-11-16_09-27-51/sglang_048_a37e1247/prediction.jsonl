{"instance_id": "/home/ubuntu/OmniPerf-Bench/sglan__repo-136c6e0", "model_patch": "diff --git a/python/pyproject.toml b/python/pyproject.toml\nindex e72488849..25009b477 100644\n--- a/python/pyproject.toml\n+++ b/python/pyproject.toml\n@@ -39,6 +39,7 @@ runtime_common = [\n     \"pydantic\",\n     \"pynvml\",\n     \"python-multipart\",\n+    \"pybase64\",\n     \"pyzmq>=25.1.2\",\n     \"soundfile==0.13.1\",\n     \"scipy\",\ndiff --git a/python/sglang/bench_serving.py b/python/sglang/bench_serving.py\nindex 04c2202d2..9ef4f16e1 100644\n--- a/python/sglang/bench_serving.py\n+++ b/python/sglang/bench_serving.py\n@@ -814,9 +814,12 @@ def sample_mmmu_requests(\n         List of tuples (prompt, prompt_token_len, output_token_len).\n     \"\"\"\n     try:\n+        import pybase64 as base64\n+    except Exception:\n         import base64\n-        import io\n+    import io\n \n+    try:\n         from datasets import load_dataset\n     except ImportError:\n         raise ImportError(\"Please install datasets: pip install datasets\")\ndiff --git a/python/sglang/srt/entrypoints/http_server_engine.py b/python/sglang/srt/entrypoints/http_server_engine.py\nindex b2edf1abe..faf684a90 100644\n--- a/python/sglang/srt/entrypoints/http_server_engine.py\n+++ b/python/sglang/srt/entrypoints/http_server_engine.py\n@@ -1,4 +1,7 @@\n-import base64\n+try:\n+    import pybase64 as base64\n+except Exception:\n+    import base64\n import copy\n import dataclasses\n import multiprocessing\ndiff --git a/python/sglang/srt/multimodal/mm_utils.py b/python/sglang/srt/multimodal/mm_utils.py\nindex 9c05c1859..cf515a156 100644\n--- a/python/sglang/srt/multimodal/mm_utils.py\n+++ b/python/sglang/srt/multimodal/mm_utils.py\n@@ -28,7 +28,10 @@ LLaVA-Onevision : https://arxiv.org/pdf/2408.03326\n \n \"\"\"\n import ast\n-import base64\n+try:\n+    import pybase64 as base64\n+except Exception:\n+    import base64\n import math\n import re\n from io import BytesIO\ndiff --git a/python/sglang/srt/utils.py b/python/sglang/srt/utils.py\nindex 052e7328f..5d7f20226 100644\n--- a/python/sglang/srt/utils.py\n+++ b/python/sglang/srt/utils.py\n@@ -15,7 +15,10 @@\n \n from __future__ import annotations\n \n-import base64\n+try:\n+    import pybase64 as base64\n+except Exception:\n+    import base64\n import builtins\n import ctypes\n import dataclasses\n@@ -2354,7 +2357,7 @@ def is_fa3_default_architecture(hf_config):\n # Can be more general if it is used in multiple places (keep it simple and thus not general now)\n class BumpAllocator:\n     def __init__(self, buffer_size: int, dtype, device):\n-        self._buffer = torch.zeros((buffer_size,), dtype=dtype, device=device)\n+        self._buffer = torch.empty((buffer_size,), dtype=dtype, device=device)\n         self._pointer = 0\n \n     def allocate(self, size: int):\ndiff --git a/python/sglang/utils.py b/python/sglang/utils.py\nindex 6b3f36e19..25470072c 100644\n--- a/python/sglang/utils.py\n+++ b/python/sglang/utils.py\n@@ -1,6 +1,9 @@\n \"\"\"Common utilities\"\"\"\n \n-import base64\n+try:\n+    import pybase64 as base64\n+except Exception:\n+    import base64\n import importlib\n import json\n import logging\n", "model_name_or_path": "gpt-5-2025-08-07"}
