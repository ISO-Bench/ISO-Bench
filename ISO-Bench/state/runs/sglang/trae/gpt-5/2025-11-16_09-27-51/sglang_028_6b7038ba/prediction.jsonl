{"instance_id": "/home/ubuntu/OmniPerf-Bench/sglan__repo-57eec0b", "model_patch": "diff --git a/python/sglang/srt/entrypoints/http_server.py b/python/sglang/srt/entrypoints/http_server.py\nindex 5a97072de..f784acf68 100644\n--- a/python/sglang/srt/entrypoints/http_server.py\n+++ b/python/sglang/srt/entrypoints/http_server.py\n@@ -730,9 +730,15 @@ def _wait_and_warmup(\n         },\n     }\n     if server_args.skip_tokenizer_init:\n-        json_data[\"input_ids\"] = [10, 11, 12]\n+        if server_args.dp_size > 1:\n+            json_data[\"input_ids\"] = [[10, 11, 12] for _ in range(server_args.dp_size)]\n+        else:\n+            json_data[\"input_ids\"] = [10, 11, 12]\n     else:\n-        json_data[\"text\"] = \"The capital city of France is\"\n+        if server_args.dp_size > 1:\n+            json_data[\"text\"] = [\"The capital city of France is\"] * server_args.dp_size\n+        else:\n+            json_data[\"text\"] = \"The capital city of France is\"\n \n     # Debug dumping\n     if server_args.debug_tensor_dump_input_file:\n@@ -743,7 +749,19 @@ def _wait_and_warmup(\n         json_data[\"sampling_params\"][\"max_new_tokens\"] = 0\n \n     try:\n-        for i in range(server_args.dp_size):\n+        # Use a single batched warmup request to cover all DP replicas.\n+        if server_args.dp_size > 1:\n+            payload = orjson.dumps(json_data)\n+            batched_headers = dict(headers)\n+            batched_headers[\"Content-Type\"] = \"application/json\"\n+            res = requests.post(\n+                url + request_name,\n+                data=payload,\n+                headers=batched_headers,\n+                timeout=600,\n+            )\n+            assert res.status_code == 200, f\"{res}\"\n+        else:\n             res = requests.post(\n                 url + request_name,\n                 json=json_data,\n", "model_name_or_path": "gpt-5-2025-08-07"}
